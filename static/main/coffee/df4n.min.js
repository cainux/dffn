(function(){var l,c,h,o,f,a,s,B,m,n,q,t,v,z,C,k,r,p,x,A,i,e,d,b,u,y,w,j,g;if(!this.df4nLoaded){$("BODY").on("click",".__df4n_close",function(D){D.preventDefault();return q()});this.df4nLoaded=true}q=function(){$("#__df4n_styles, #__df4n_container").remove();return $("#wrap").show()};m=function(){return $("HEAD").append("<link id='__df4n_styles' rel='stylesheet' type='text/css' href='http://dffn.azurewebsites.net/df4n/static/main/less/df4n.css?v=1_0'>")};i=function(D){return D.replace(/\w\S*/g,function(E){return E.charAt(0).toUpperCase()+E.substr(1).toLowerCase()})};f=(function(){function D(E,F){this.name=E;this.src=F}return D})();a=(function(){function D(E,H){var F,G;this.name=E;this.items=(function(){var K,J,I;I=[];for(K=0,J=H.length;K<J;K++){F=H[K];E=i(F.src.replace(/^.+?\/item\//i,"").replace(/\.png$/i,"").replace(/-/g," "));G=F.src;I.push(new f(E,G))}return I})()}return D})();s=(function(){function D(E,H,G,F){this.name=E;this.level=H;this.key=G;this.skillImg=F}return D})();B=(function(){function D(I){var E,H,K,L,G,F,J;this.skills=(function(){var O,N,M;M=[];for(O=0,N=I.length;O<N;O++){F=I[O];E=$(F);K=E.parents("TR").children("TD:last").children("IMG");J=E.parents("TR").children("TD:first").children("IMG");G=E.parents("DIV.ajax-tooltip").children("H4").text();L=parseInt(E.text());if(G===""){G="Stats"}H="";if(K.length>0){H=K[0].src.replace(/^.+?key-|\.png$/g,"").toUpperCase()}M.push(new s(G,L,H,J.attr("src")))}return M})();this.skills.sort(function(N,M){if(N.level>=M.level){return 1}else{return -1}})}return D})();q();m();z=(function(){var G,E,F,D;F=$("DIV.build-tab:visible DIV.items>H4").parent();D=[];for(G=0,E=F.length;G<E;G++){o=F[G];D.push(new a($("H4",o).text(),$("IMG",o)))}return D})();r=new B($("DIV.build-tab:visible DIV.skill-box TD.selected.c"));console.log(r);A=$("TITLE").text();n=$(".build-tab:visible H2").text();l=$("  <div id='__df4n_container'>    <a class='__df4n_close'>close</a>    <h1>"+A+"</h1>    <h2>"+n+"</h2>    <div id='__df4n_itemgroups'></div>    <div id='__df4n_skills'></div>  </div>");c=$("#__df4n_itemgroups",l);h=$("#__df4n_skills",l);for(e=0,u=z.length;e<u;e++){v=z[e];x=[];x.push("<div class='__df4n_itemgroup'>");x.push("<h4>"+v.name+"</h4>");x.push("<ul>");j=v.items;for(d=0,y=j.length;d<y;d++){t=j[d];x.push("<li><img src='"+t.src+"' /> "+t.name+"</li>")}x.push("</ul>");x.push("</div>");c.append(x.join(""))}p=[];p.push("<h4>Hero Skills</h4>");p.push("<ul>");g=r.skills;for(b=0,w=g.length;b<w;b++){k=g[b];C="";if(k.key.length>0){C="<span class='__df4n_key'>("+k.key+"</span>)"}p.push("<li><span class='__df4n_level'>"+k.level+"</span> <img src='"+k.skillImg+"'/> "+C+" "+k.name+"</li>")}p.push("</ul>");h.append(p.join(""));$("BODY").prepend(l);$("#wrap").hide()}).call(this);